(function(n){n.fn.smartWizard=function(t){var i=n.extend({},n.fn.smartWizard.defaults,t),r=arguments;return this.each(function(){function tt(){var t=u.children("div");u.children("ul").addClass("anchor"),t.addClass("content"),c=n("<div>Loading<\/div>").addClass("loader"),h=n("<div><\/div>").addClass("actionBar"),l=n("<div><\/div>").addClass("stepContainer"),a=n("<a>"+i.labelNext+"<\/a>").attr("href","#").addClass("buttonNext"),v=n("<a>"+i.labelPrevious+"<\/a>").attr("href","#").addClass("buttonPrevious"),y=n("<a>"+i.labelFinish+"<\/a>").attr("href","#").addClass("buttonFinish"),i.errorSteps&&i.errorSteps.length>0&&n.each(i.errorSteps,function(n,t){nt(t,!0)}),l.append(t),h.append(c),u.append(l),u.append(h),h.append(y).append(a).append(v),k=l.width(),n(a).click(function(){return d(),!1}),n(v).click(function(){return g(),!1}),n(y).click(function(){if(!n(this).hasClass("buttonDisabled"))if(n.isFunction(i.onFinish)){if(!i.onFinish.call(this,n(f)))return!1}else{var t=u.parents("form");t&&t.length&&t.submit()}return!1}),n(f).bind("click",function(){if(f.index(this)==e)return!1;var n=f.index(this),t=f.eq(n).attr("isDone")-0;return t==1&&p(n),!1}),i.keyNavigation&&n(document).keyup(function(n){n.which==39?d():n.which==37&&g()}),it(),p(e)}function it(){i.enableAllSteps?(n(f,u).removeClass("selected").removeClass("disabled").addClass("done"),n(f,u).attr("isDone",1)):(n(f,u).removeClass("selected").removeClass("done").addClass("disabled"),n(f,u).attr("isDone",0)),n(f,u).each(function(t){n(n(this).attr("href"),u).hide(),n(this).attr("rel",t+1)})}function p(t){var r=f.eq(t),e=i.contentURL,o=r.data("hasContent");stepNum=t+1,e&&e.length>0?i.contentCache&&o?b(t):n.ajax({url:e,type:"POST",data:{step_number:stepNum},dataType:"text",beforeSend:function(){c.show()},error:function(){c.hide()},success:function(i){c.hide(),i&&i.length>0&&(r.data("hasContent",!0),n(n(r,u).attr("href"),u).html(i),b(t))}}):b(t)}function b(t){var r=f.eq(t),o=f.eq(e),h,s;return t!=e&&n.isFunction(i.onLeaveStep)&&!i.onLeaveStep.call(this,n(o))?!1:(l.height(n(n(r,u).attr("href"),u).outerHeight()),i.transitionEffect=="slide"?n(n(o,u).attr("href"),u).slideUp("fast",function(){n(n(r,u).attr("href"),u).slideDown("fast"),e=t,w(o,r)}):i.transitionEffect=="fade"?n(n(o,u).attr("href"),u).fadeOut("fast",function(){n(n(r,u).attr("href"),u).fadeIn("fast"),e=t,w(o,r)}):i.transitionEffect=="slideleft"?(h=0,s=0,t>e?(nextElmLeft1=k+10,nextElmLeft2=0,s=0-n(n(o,u).attr("href"),u).outerWidth()):(nextElmLeft1=20-n(n(r,u).attr("href"),u).outerWidth(),nextElmLeft2=0,s=10+n(n(o,u).attr("href"),u).outerWidth()),t==e?(nextElmLeft1=n(n(r,u).attr("href"),u).outerWidth()+20,nextElmLeft2=0,s=0-n(n(o,u).attr("href"),u).outerWidth()):n(n(o,u).attr("href"),u).animate({left:s},"fast",function(){n(n(o,u).attr("href"),u).hide()}),n(n(r,u).attr("href"),u).css("left",nextElmLeft1),n(n(r,u).attr("href"),u).show(),n(n(r,u).attr("href"),u).animate({left:nextElmLeft2},"fast",function(){e=t,w(o,r)})):(n(n(o,u).attr("href"),u).hide(),n(n(r,u).attr("href"),u).show(),e=t,w(o,r)),!0)}function w(t,r){return n(t,u).removeClass("selected"),n(t,u).addClass("done"),n(r,u).removeClass("disabled"),n(r,u).removeClass("done"),n(r,u).addClass("selected"),n(r,u).attr("isDone",1),rt(),n.isFunction(i.onShowStep)&&!i.onShowStep.call(this,n(r))?!1:void 0}function d(){var t=e+1;if(n("input[name=stepindex]").val(t),f.length<=t){if(!i.cycleSteps)return!1;t=0}p(t)}function g(){var t=e-1;if(n("input[name=stepindex]").val(t),0>t){if(!i.cycleSteps)return!1;t=f.length-1}p(t)}function rt(){i.cycleSteps||(0>=e?n(v).addClass("buttonDisabled"):n(v).removeClass("buttonDisabled"),f.length-1<=e?n(a).addClass("buttonDisabled"):n(a).removeClass("buttonDisabled")),!f.hasClass("disabled")||i.enableFinishButton?n(y).removeClass("buttonDisabled"):n(y).addClass("buttonDisabled")}function ut(t){n(".msgcontent",o).html(t),o.show()}function ft(){o.fadeOut("normal")}function nt(t,i){i?n(f.eq(t-1),u).addClass("error"):n(f.eq(t-1),u).removeClass("error")}var u=n(this),e=i.selected,f=n("ul > li > a",u),k=0,c,o,h,l,a,v,y,s;if(h=n(".actionBar",u),h.length==0&&(h=n("<div><\/div>").addClass("actionBar")),o=n(".msgBox",u),o.length==0&&(o=n('<div class="msgBox"><div class="msgcontent"><\/div><a href="#" class="close">X<\/a><\/div>'),h.append(o)),n(".close",o).click(function(){return o.fadeOut("normal"),!1}),t&&t!=="init"&&typeof t!="object"){if(t==="showMessage")return s=Array.prototype.slice.call(r,1),ut(s[0]),!0;if(t==="hideMessage")return s=Array.prototype.slice.call(r,1),ft(s[0]),!0;if(t==="setError")return s=Array.prototype.slice.call(r,1),nt(s[0].stepnum,s[0].iserror),!0;n.error("Method "+t+" does not exist")}else tt()})},n.fn.smartWizard.defaults={selected:0,keyNavigation:!0,enableAllSteps:!1,transitionEffect:"fade",contentURL:null,contentCache:!0,cycleSteps:!1,enableFinishButton:!1,errorSteps:[],labelNext:"Next",labelPrevious:"Previous",labelFinish:"Finish",onLeaveStep:null,onShowStep:null,onFinish:null}})(jQuery);
//@ sourceMappingURL=jquery.smartWizard-2.0.min.js.map